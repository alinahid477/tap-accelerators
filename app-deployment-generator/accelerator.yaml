accelerator:
  displayName: Simple Application Deployment Generator
  description: Generate objects (workload.yaml, deliverable.yaml, src-git-secret.yaml) needed to deploy and deliver an application
  iconUrl: data:image/png;base64,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
  tags:
    - workload
    - deliverable
    - src-git-secret
    
  options:
    - name: objectNamespaceName
      inputType: text
      label: Namespace
      description: The namespace where the workload, deliverable and src-git-secret will be created. Typically, this is the namespace where you have been given access to.
      defaultValue: "default"
      required: true

    - name: workloadName
      inputType: text
      label: Workload name
      description: The name of the workload. Typically this is same name as the application. 
      required: true

    - name: workloadType
      inputType: select
      label: Choose workload type
      choices:
      - value: "secure-server"
        text: Traditional
      - value: "web"
        text: KNative
      defaultValue: "secure-server"
      description: Workload type determines what type of deployment definition to be created by the CI path. Traditional type creates Deployment, Ingress and ClusterIP Service. KNative type creates KNative Serving Service.
      required: true

    - name: catalogName
      inputType: text
      label: Catalog name
      description: Catalog groups multiple workloads together and create dependency graph. This is useful for multi-app projects. If you do not have catalog use the workload name here.
      defaultValue: "sample"
      required: true    

    - name: workloadLanguage
      inputType: select
      label: Workload Language
      inputType: select
      choices:
      - value: "java"
        text: Java
      - value: "node"
        text: NodeJS
      - value: "python"
        text: Python
      defaultValue: "java"
      required: true

    - name: workloadGitUrl
      inputType: text
      label: HTTPS Git Url of source code project
      description: HTTPS repository source code git project (aka repository) url. eg> https://gitlab.com/sample/myapp.git
      required: true

    - name: workloadGitBranch
      inputType: text
      label: Git branch of the workload source code
      description:  Git branch of the source code git project. eg> main, development etc
      defaultValue: "main"
      required: true

    - name: workloadContainerPort
      inputType: text
      label: Workload container port
      description:  container port
      defaultValue: 8080
      required: true

    - name: workloadServicePort
      inputType: text
      label: Workload ingress port
      description: Ingress port
      defaultValue: 80
      required: true

    - name: workloadDomainCategory
      inputType: select
      label: Choose workload domain category
      choices:
      - value: "api"
        text: api
      - value: "internal"
        text: internal
      - value: "external"
        text: external
      defaultValue: "internal"
      description: This is part of the workload domain pattern. Domain pattern> [workload-name].[workload-domain-category].[workload-domain]
      required: true

    - name: srcGitAccessToken
      inputType: text
      label: Gitlab Token for the source git project
      description: SupplyChain (CI pipeline) uses this access token to pull from source git project. This input is used to generate a src-git-secret.yaml file.
      required: true

    

engine:
  merge:
    - include: ["**/*"]
      chain:
        - type: ReplaceText
          substitutions:
            - text: "RPLC_WORKLOAD_NAME"
              with: "#workloadName"
            - text: "RPLC_NAMESPACE_NAME"
              with: "#objectNamespaceName"
            - text: "RPLC_WORKLOAD_TYPE"
              with: "#workloadType"
            - text: "RPLC_CATALOG_NAME"
              with: "#catalogName"  
            - text: "RPLC_WORKLOAD_GIT_URL"
              with: "#workloadGitUrl"
            - text: "RPLC_WORKLOAD_GIT_BRANCH"
              with: "#workloadGitBranch"            
            - text: "RPLC_WORKLOAD_CONTAINER_PORT"
              with: "#workloadContainerPort"
            - text: "RPLC_WORKLOAD_SERVICE_PORT"
              with: "#workloadServicePort"
            - text: "RPLC_WORKLOAD_LANGUAGE"
              with: "#workloadLanguage"
            - text: "RPLC_WORKLOAD_DOMAIN_CATEGORY"
              with: "#workloadDomainCategory"
            - text: "RPLC_SRC_GIT_ACCESS_TOKEN"
              with: "#srcGitAccessToken"
              
        - type: ReplaceText
          condition: "#workloadLanguage == 'nodejs'"
          substitutions:
            - text: "spec:"
              with: "'spec:\n  build:\n    env:\n    - name: BP_NODE_RUN_SCRIPTS\n      value: \"build\"'"
            - text: "env:"
              with: "'env:\n    - name: NODE_ENV\n      value: \"development\"'"
        - type: ReplaceText
          condition: "#workloadLanguage == 'java'"
          substitutions:
            - text: "spec:"
              with: "'spec:\n  build:\n    env:\n    - name: BP_JVM_VERSION\n      value: \"17\"'"
            - text: "env:"
              with: "'env:\n    - name: spring_profiles_active\n      value: pgsql'"
